// SPDX-License-Identifier: AGPL-3.0-or-later
#include "nz0.h"

void Update();
void HitDetection();
void UpdateRoomPosition();
void InitRoomEntities();
void UpdateStageEntities();

extern s16** OVL_EXPORT(spriteBanks)[];
extern u_long** OVL_EXPORT(cluts)[];
extern u_long* OVL_EXPORT(gfxBanks)[];
extern MyRoomDef OVL_EXPORT(rooms_layers)[];
extern RoomHeader OVL_EXPORT(rooms)[];

AbbreviatedOverlay OVL_EXPORT(Overlay) = {
    .Update = Update,
    .HitDetection = HitDetection,
    .UpdateRoomPosition = UpdateRoomPosition,
    .InitRoomEntities = InitRoomEntities,
    .rooms = OVL_EXPORT(rooms),
    .spriteBanks = OVL_EXPORT(spriteBanks),
    .cluts = OVL_EXPORT(cluts),
    .objLayoutHorizontal = g_pStObjLayoutHorizontal,
    .tileLayers = OVL_EXPORT(rooms_layers),
    .gfxBanks = OVL_EXPORT(gfxBanks),
    .UpdateStageEntities = UpdateStageEntities,
};

#include "sprite_banks.h"

extern u16* D_80195C3C[0x40];
extern u16* D_80195CDC[0x10];
extern u16* D_80195D3C[0x40];
extern u16* D_80195DBC[0x30];
extern u16* D_80195E1C[0x10];
extern u16* D_80195E3C[0x30];
extern u16* D_80195E9C[0x40];
extern u16* D_80195F1C[0x40];
extern u16* D_80195F9C[0x40];
extern u16* D_8019601C[0x100];
extern u16* D_801962DC[0xA0];
extern u16* D_8019641C[0x30];
extern u16* D_8019647C[0x80];
extern u16* D_8019657C[0x50];
extern u16* D_8019663C[0x10];
extern u16* D_8019665C[0x80];
extern u16* D_8019685C[0x80];
static u_long* D_8018008C[] = {
    MAKE_PAL_OP(PAL_BULK_COPY, 0),
    PAL_BULK(0x2000, D_80195C3C),
    PAL_BULK(0x2040, D_80195CDC),
    PAL_BULK(0x2050, D_80195D3C),
    PAL_BULK(0x2090, D_80195DBC),
    PAL_BULK(0x20C0, D_80195E1C),
    PAL_BULK(0x20D0, D_80195E3C),
    PAL_BULK(0x2110, D_80195F1C),
    PAL_BULK(0x2150, D_80195F9C),
    PAL_BULK(0x2190, D_80195E9C),
    PAL_BULK(0x21D0, D_801962DC),
    PAL_BULK(0x2270, D_8019641C),
    PAL_BULK(0x22A0, D_8019647C),
    PAL_BULK(0x2320, D_8019657C),
    PAL_BULK(0x2370, D_8019663C),
    PAL_BULK(0x2380, D_8019665C),
    PAL_BULK(0x2400, D_8019685C),
    PAL_BULK(0x2E00, D_8019601C),
    PAL_TERMINATE(),
};

u_long** OVL_EXPORT(cluts)[] = {
    &D_8018008C,
};

#include "layers.h"

static u_long* D_8018047C[] = {
    GFX_BANK_NONE,
    GFX_ENTRY(0, 0, 0, 0, NULL),
    GFX_TERMINATE(),
};

extern u8 D_8018A508[];
static u_long* D_80180490[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_TERMINATE(),
};

extern u8 D_801858C0[];
extern u8 D_801867B0[];
extern u8 D_80188BB8[];
extern u8 D_80189810[];
extern u8 D_8018BCB8[];
static u_long* D_801804A4[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x100, 0x080, 128, 128, D_801858C0),
    GFX_ENTRY(0x100, 0x0A0, 128, 128, D_801867B0),
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x100, 0x100, 128, 128, D_80188BB8),
    GFX_ENTRY(0x100, 0x120, 128, 128, D_80189810),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

extern u8 D_801873A0[];
static u_long* D_801804F4[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x180, 0x080, 128, 128, D_801873A0),
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

extern u8 D_80184CE4[];
extern u8 D_8018B0B4[];
static u_long* D_80180520[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x180, 0x080, 128, 128, D_801873A0),
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x100, 0x0E0, 128, 128, D_80184CE4),
    GFX_ENTRY(0x100, 0x100, 128, 128, D_80188BB8),
    GFX_ENTRY(0x100, 0x120, 128, 128, D_80189810),
    GFX_ENTRY(0x180, 0x120, 128, 128, D_8018B0B4),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

static u_long* D_8018057C[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x100, 0x100, 128, 128, D_80188BB8),
    GFX_ENTRY(0x100, 0x120, 128, 128, D_80189810),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

static u_long* D_801805B4[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

static u_long* D_801805D4[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x100, 0x080, 128, 128, D_801858C0),
    GFX_ENTRY(0x100, 0x0A0, 128, 128, D_801867B0),
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x100, 0x100, 128, 128, D_80188BB8),
    GFX_ENTRY(0x100, 0x120, 128, 128, D_80189810),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

extern u8 D_80188058[];
static u_long* D_80180624[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x180, 0x0C0, 128, 128, D_80188058),
    GFX_ENTRY(0x180, 0x120, 128, 128, D_8018B0B4),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

static u_long* D_8018065C[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

extern u8 D_8018AAD0[];
static u_long* D_8018067C[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x180, 0x0E0, 128, 128, D_8018AAD0),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

static u_long* D_801806A8[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x180, 0x120, 128, 128, D_8018B0B4),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

extern u8 D_80184154[];
static u_long* D_801806D4[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x100, 0x080, 128, 128, D_801858C0),
    GFX_ENTRY(0x100, 0x0A0, 128, 128, D_801867B0),
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x100, 0x0C0, 128, 128, D_80184154),
    GFX_ENTRY(0x100, 0x0E0, 128, 128, D_80184CE4),
    GFX_ENTRY(0x180, 0x120, 128, 128, D_8018B0B4),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

extern u8 D_801956A4[];
static u_long* D_80180730[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x100, 0x040, 128, 128, D_801956A4),
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x100, 0x0C0, 128, 128, D_80184154),
    GFX_ENTRY(0x100, 0x0E0, 128, 128, D_80184CE4),
    GFX_ENTRY(0x180, 0x0C0, 128, 128, D_80188058),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

extern u8 D_8018CC34[];
static u_long* D_80180780[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x100, 0x0C0, 128, 128, D_8018CC34),
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

extern u8 D_8018D788[];
extern u8 D_8018E27C[];
extern u8 D_8018EC64[];
extern u8 D_8018F528[];
extern u8 D_80190298[];
static u_long* D_801807AC[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x100, 0x080, 128, 128, D_8018D788),
    GFX_ENTRY(0x100, 0x0A0, 128, 128, D_8018E27C),
    GFX_ENTRY(0x180, 0x080, 128, 128, D_8018EC64),
    GFX_ENTRY(0x100, 0x0C0, 128, 128, D_8018F528),
    GFX_ENTRY(0x100, 0x0E0, 128, 128, D_80190298),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

extern u8 D_80190A58[];
static u_long* D_801807FC[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x100, 0x140, 128, 128, D_80190A58),
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

static u_long* D_80180828[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

extern u8 D_80191B18[];
extern u8 D_80192E2C[];
static u_long* D_80180848[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x100, 0x080, 128, 128, D_80191B18),
    GFX_ENTRY(0x100, 0x0A0, 128, 128, D_80192E2C),
    GFX_TERMINATE(),
};

static u_long* D_80180868[] = {
    GFX_BANK_COMPRESSED,
    GFX_ENTRY(0x180, 0x0A0, 128, 128, D_8018A508),
    GFX_ENTRY(0x180, 0x160, 128, 128, D_8018BCB8),
    GFX_TERMINATE(),
};

u_long* OVL_EXPORT(gfxBanks)[] = {
    D_8018047C, D_80180848, D_801807FC, D_801804F4, D_80180490,
    D_801805B4, D_80180490, D_80180780, D_801806A8, D_8018065C,
    D_80180730, D_8018057C, D_80180490, D_80180624, D_80180490,
    D_8018067C, D_801807AC, D_801805D4, D_801806D4, D_80180520,
    D_801804A4, D_80180490, D_80180828, D_80180490, D_80180868,
};
